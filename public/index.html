<!DOCTYPE html>

<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Com1patible" content="IE=edge">
  <title>NextGeneration 1.0 | Welcome</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="../plugins/font-awesome/css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="../dist/css/adminlte.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="../plugins/iCheck/flat/blue.css">
  <!-- Morris chart -->
  <link rel="stylesheet" href="../plugins/morris/morris.css">
  <!-- jvectormap -->
  <link rel="stylesheet" href="../plugins/jvectormap/jquery-jvectormap-1.2.2.css">
  <!-- Date Picker -->
  <link rel="stylesheet" href="../plugins/datepicker/datepicker3.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="../plugins/daterangepicker/daterangepicker-bs3.css">
  <!-- bootstrap wysihtml5 - text editor -->
  <link rel="stylesheet" href="../plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">
  <!-- Google Font: Source Sans Pro -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

  <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-firestore.js"></script>
  <style>
    img {
      width: 75%;
      height: auto;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .loader {
      border: 16px solid #f3f3f3;
      border-radius: 50%;
      border-top: 16px solid #3498db;
      width: 120px;
      height: 120px;
      -webkit-animation: spin 2s linear infinite; /* Safari */
      animation: spin 2s linear infinite;
    }

    /* Safari */
    @-webkit-keyframes spin {
      0% { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    footer {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      background-color: #5caceb;
      color: white;
      text-align: center;
    }
    .image1
    {
      width:auto;
      height:75%;
    }
    #inner {
      display: table;
      margin: 0 auto;
    }
  </style>
</head>
<body >
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyBnSMz4K89aaghwVikqC2Mjktb9vxKr-wI",
        authDomain: "nextgeneration-c55c3.firebaseapp.com",
        databaseURL: "https://nextgeneration-c55c3.firebaseio.com",
        projectId: "nextgeneration-c55c3",
        storageBucket: "nextgeneration-c55c3.appspot.com",
        messagingSenderId: "966721066481"
    };
    firebase.initializeApp(config);
    window.fbAsyncInit = function() {
        FB.init({
            appId            : '1853124638088705',
            autoLogAppEvents : true,
            xfbml            : true,
            version          : 'v3.0'
        });
    };
    (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "https://connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
    // Initialize Cloud Firestore through Firebase
    var db = firebase.firestore();
    function grabarEnStorageLocal(nombreV,valor) {
        var resultado;
        if (typeof(Storage) !== "undefined") {
            // Store
            localStorage.setItem(nombreV, valor);
            // Retrieve
            resultado ="Operacion exitosa";
        } else {
            resultado= "Lo sentimos, su navegador no es compatible con Web Storage...";
        }
        return resultado;
    }
    function cargarParametros(){
        var docRef = db.collection("PARAMETROS").doc("PARAMETRO") ;

        docRef.get().then(function(doc) {
            if (doc.exists) {
                grabarEnStorageLocal("PARAMETROS",JSON.stringify(doc.data()));
            } else {
                console.log("Ocurrio un error!");
            }
            return doc.data().x;
        }).catch(function(error) {
            console.log("Error getting document:", error);
        })
    }
    function cargarPantallas(){
        var docRef = db.collection("PANTALLAS").doc("ALIAS") ;

        docRef.get().then(function(doc) {
            if (doc.exists) {
                grabarEnStorageLocal("PANTALLAS",JSON.stringify(doc.data()));
            } else {
                console.log("Ocurrio un error!");
            }
            return doc.data().x;
        }).catch(function(error) {
            console.log("Error getting document:", error);
        })
    }
    localStorage.clear();
    cargarParametros();
    cargarPantallas();
</script>
<img src="../dist/img/NextGeneration.png"  ><br>
  <img src="../dist/img/nextGenerationLogo.png" class="image1" >
  <h2 style="text-align: center;">Bienvenid@s!!</h2>
  <div class="loader" align="center" id="inner" ></div>
</br>
<meta http-equiv="Refresh" content="5;login.html">
  <footer class="footer">
    <strong>Copyright &copy; 2018 -Maximiliano Axel Capar√°</a>.</strong>
    <br>All rights reserved.</br>
    <b>Version</b> 1.0</br>
    <div class="float-right d-none d-sm-inline-block">
    </div>
  </footer>
</body >
<!-- jQuery -->
<script src="../plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- Morris.js charts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="../plugins/morris/morris.min.js"></script>
<!-- Sparkline -->
<script src="../plugins/sparkline/jquery.sparkline.min.js"></script>
<!-- jvectormap -->
<script src="../plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="../plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- jQuery Knob Chart -->
<script src="../plugins/knob/jquery.knob.js"></script>
<!-- daterangepicker -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js"></script>
<script src="../plugins/daterangepicker/daterangepicker.js"></script>
<!-- datepicker -->
<script src="../plugins/datepicker/bootstrap-datepicker.js"></script>
<!-- Bootstrap WYSIHTML5 -->
<script src="../plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
<!-- Slimscroll -->
<script src="../plugins/slimScroll/jquery.slimscroll.min.js"></script>
<!-- FastClick -->
<script src="../plugins/fastclick/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="../dist/js/adminlte.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="../dist/js/pages/dashboard.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="../dist/js/demo.js"></script>

</html>
